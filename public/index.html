<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>War on Terror Virtual Memorial</title>
    <link rel="icon" type="image/x-icon" href="imgs/favicon.ico">
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/7.0.0/normalize.css">
    <link rel="stylesheet" href="css/virwot-styles.css">
</head>

<body>
    <main>
        <!-- App DOM Container -->
        <section id="app-container" class="show">
            <!-- Banner & Static UI -->
            <nav id="static-container">
                <!-- Banner -->
                <a href="http://www.waronterror.org/">
                    <div id="banner-container" class="inline">
                        <img id="banner" class="inline" src="imgs/banner.svg" alt="Foundation Banner">
                    </div>
                </a>
                <!-- Menu -->
                <div id="static-menu-btns">
                    <div id="menu-tour" class="menu-btn inline" style="margin-left: 1rem;">
                        <a id="menu-tour-anchor" href="#"><img src="imgs/ico-tour.svg">
                            <h3>Tour</h3>
                        </a>
                    </div>
                    <div id="menu-search" class="menu-btn inline">
                        <a id="menu-search-anchor" href="#"><img src="imgs/ico-search.svg">
                            <h3>Search</h3>
                        </a>
                    </div>
                    <div id="menu-information" class="menu-btn inline">
                        <a id="menu-information-anchor" href="#" class="no-click"><img src="imgs/ico-info.svg">
                            <h3 style="transform: translate(-2.6rem)">Information</h3>
                        </a>
                    </div>
                    <div id="menu-stories" class="menu-btn inline">
                        <a id="menu-stories-anchor" href="#" class="no-click"><img src="imgs/ico-story.svg">
                            <h3>Stories</h3>
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Content / Dynamic -->
            <div id="dynamic-container" class="bg-white wot-bg-matte"></div>
        </section>
    </main>

    <!-- App Scripts -->
    <script type="text/javascript" src="libs/jquery.js"></script>
    <script type="text/javascript" src="libs/Tween.js"></script>
    <script type="text/javascript" src="libs/three.js"></script>
    <script type="text/javascript" src="js/state.js"></script>
    <script type="text/javascript" src="js/htmlTemplates.js"></script>
    <script type="text/javascript" src="js/controller.js"></script>
    <script type="text/javascript" src="js/wot-scene/wotScene.js"></script>
    <!-- Event Listeners -->
    <script>
        $(document).ready(htmlTemplates.intro());

        // ================================ Main Menu
        // WebGL Tour Loader
        $('#menu-tour').click(function(ev){
            ev.preventDefault();
            htmlTemplates.tour();
        });
        // Search Main Menu
        $('#menu-search').click(function(ev){
            ev.preventDefault();
            htmlTemplates.searchUI();
        });
        // Information
        $('#menu-information').click(function(ev) {
            ev.preventDefault();
            htmlTemplates.info();
        });
        // Stories Main Menu
        $('#menu-stories').click(function(ev){
            ev.preventDefault();
            htmlTemplates.storyMainUI();
        });

        // ================================ Dynamic Menus
        // ====================== Users
        // Search Submission - "Mouse Click"
        $('#dynamic-container').on('click', '#submit-new-user', function(ev){
            ev.preventDefault();
            crtl.createNewUser();
        });
        $('#dynamic-container').on('click', '#submit-user-login', function(ev){
            ev.preventDefault();
            crtl.loginUser();
        });
        // ====================== Search
        // Search Submission - "Mouse Click"
        $('#dynamic-container').on('click', '#js-submitSearch', function(ev){
            ev.preventDefault();
            crtl.submitSearch();
        });
        // View Vet Info
        $('#dynamic-container').on('click', '.vet-info', function(ev) {
            ev.preventDefault();
            crtl.veteranInfo(ev);
        });
        $('#dynamic-container').on('click', 'vet-memorial', function(ev){
            ev.preventDefault();
            wotScene.viewOnMemorial();
        });
        // View Exiting Vet Stories
        $('#dynamic-container').on('click', '.vet-story', function(ev) {
            ev.preventDefault();
            crtl.getTextStories(ev);
        });
        // ====================== Stories
        // =========== Stories Main Menu
        // Load current vet text stories
        $('#dynamic-container').on('click', '#story-text', (ev)=>{
            ev.preventDefault();
            htmlTemplates.textStoryUI();
        });
        // Load current vet picture stories
        $('#dynamic-container').on('click', '#story-picture', (ev)=>{
            ev.preventDefault();
            htmlTemplates.comingSoon();
        });
        // Load current vet audio stories
        $('#dynamic-container').on('click', '#story-audio', (ev)=>{
            ev.preventDefault();
            htmlTemplates.comingSoon();
        });
        // Load current vet video stories
        $('#dynamic-container').on('click', '#story-video', (ev)=>{
            ev.preventDefault();
            htmlTemplates.comingSoon();
        });
        // =========== View Stories
        // Load "Create New Story" window
        $('#dynamic-container').on('click', '#user-login',(ev)=>{
            ev.preventDefault();
            htmlTemplates.user();
        });
        $('#dynamic-container').on('click', '#create-new-text-story', (ev)=>{
            ev.preventDefault();
            htmlTemplates.createReviseText();
        });
        $('#dynamic-container').on('click', '.edit', (ev)=>{
            ev.preventDefault();
            crtl.editTextStory(ev);
        });
        $('#dynamic-container').on('click', '.delete', (ev)=>{
            ev.preventDefault();
            crtl.deleteTextStory(ev);
        });
        // =========== Create New Story
        // Clear Text Fields
        $('#dynamic-container').on('click', '#text-story-clear', (ev)=>{
            ev.preventDefault();
            htmlTemplates.clearNewStoryFields();
        });
        // Submit Story
        $('#dynamic-container').on('click', '#text-story-submit', (ev)=>{
            ev.preventDefault();
            crtl.submitTextStory();
        });

        // =========== Tour Controls
        // Clear Text Fields
        $('#dynamic-container').on('click', '#webgl-controls-backwards', function(event){
            console.log('Rewinding to past position');
        });
        $('#dynamic-container').on('click', '#webgl-controls-play', function(event){
            console.log('Playing or pausing the animation');
            wotScene.playAnimation();
        });
        $('#dynamic-container').on('click', '#webgl-controls-forward', function(event){
            console.log('Fast-forwarding to past position')
        });
    </script>
</body>
</html>